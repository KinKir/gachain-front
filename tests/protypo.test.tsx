// Copyright 2017 The gachain-front Authors
// This file is part of the gachain-front library.
// 
// The gachain-front library is free software: you can redistribute it and/or modify
// it under the terms of the GNU Lesser General Public License as published by
// the Free Software Foundation, either version 3 of the License, or
// (at your option) any later version.
// 
// The gachain-front library is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
// GNU Lesser General Public License for more details.
// 
// You should have received a copy of the GNU Lesser General Public License
// along with the gachain-front library. If not, see <http://www.gnu.org/licenses/>.

//import * as React from 'react';
//import * as renderer from 'react-test-renderer';

//import Protypo from 'components/Protypo';

//const _testPayload = { tree: "[{\"type\":\"fn\",\"name\":\"Title\",\"data\":[\"User info\"]},{\"type\":\"block\",\"name\":\"UList\",\"data\":[\"breadcrumb\",\"ol\"],\"children\":[{\"type\":\"fn\",\"name\":\"Li\",\"data\":[\"User info\"]},{\"type\":\"fn\",\"name\":\"UListEnd\"}]},{\"type\":\"block\",\"name\":\"If\",\"data\":[[{\"type\":\"fn\",\"name\":\"GetVar\",\"data\":[\"citizenId\"]}]],\"children\":[{\"type\":\"fn\",\"name\":\"Else\"},{\"type\":\"fn\",\"name\":\"SetVar\",\"data\":[[\"citizenId = \",{\"type\":\"fn\",\"name\":\"GetVar\",\"data\":[\"citizen\"]}],\"gstate_id = \\\"#state_id#\\\"\"]},{\"type\":\"fn\",\"name\":\"IfEnd\"}]},{\"type\":\"fn\",\"name\":\"GetRow\",\"data\":[\"user\",\"#gstate_id#_citizens\",\"id\",\"#citizenId#\"]},{\"type\":\"block\",\"name\":\"Divs\",\"data\":[\"md-6\",\"panel panel-default elastic data-sweet-alert\"],\"children\":[{\"type\":\"fn\",\"name\":\"Div\",\"data\":[\"panel-heading\",[{\"type\":\"fn\",\"name\":\"Div\",\"data\":[\"panel-title\",[{\"type\":\"fn\",\"name\":\"Div\",\"data\":[\"text-bold\",\"User information\"]}]]}]]},{\"type\":\"block\",\"name\":\"Divs\",\"data\":[\"panel-body text-center\"],\"children\":[{\"type\":\"block\",\"name\":\"Divs\",\"children\":[{\"type\":\"fn\",\"name\":\"Image\",\"data\":[[{\"type\":\"block\",\"name\":\"If\",\"data\":[[{\"type\":\"fn\",\"name\":\"GetVar\",\"data\":[\"user_avatar\"]}],\"#user_avatar#\",\"/static/img/avatar.svg\"]}],\"Image\",\"img-thumbnail img-circle w-100 h-100\"]},{\"type\":\"fn\",\"name\":\"DivsEnd\"}]},{\"type\":\"block\",\"name\":\"Divs\",\"data\":[\"panel-body text-center\"],\"children\":[{\"type\":\"fn\",\"name\":\"Tag\",\"data\":[\"h3\",[{\"type\":\"block\",\"name\":\"If\",\"data\":[[{\"type\":\"fn\",\"name\":\"GetVar\",\"data\":[\"user_name\"]}],\"#user_name#\",\"Anonym\"]}],\"m0\"]},{\"type\":\"fn\",\"name\":\"DivsEnd\"}]},{\"type\":\"block\",\"name\":\"Divs\",\"data\":[\"list-comma align-center\"],\"children\":[{\"type\":\"fn\",\"name\":\"GetList\",\"data\":[\"pos\",\"#state_id#_roles_assign\",\"role_name,role_title\",\"member_id = #citizenId# and delete = 0\"]},{\"type\":\"block\",\"name\":\"ForList\",\"data\":[\"pos\"],\"children\":[{\"type\":\"fn\",\"name\":\"P\",\"data\":[\"text-muted\",\"\\u003cb\\u003e#role_title#\\u003c/b\\u003e #role_name#\"]},{\"type\":\"fn\",\"name\":\"ForListEnd\"}]},{\"type\":\"fn\",\"name\":\"DivsEnd\"}]},{\"type\":\"block\",\"name\":\"Divs\",\"data\":[\"row\"],\"children\":[{\"type\":\"block\",\"name\":\"Divs\",\"data\":[\"col-md-12 mt-sm\"],\"children\":[{\"type\":\"fn\",\"name\":\"Tag\",\"data\":[\"h4\",[{\"type\":\"fn\",\"name\":\"Address\",\"data\":[\"#user_id#\"]},{\"type\":\"fn\",\"name\":\"Em\",\"data\":[[\"clipboard fa fa-clipboard id=\\\"clipboard\\\" aria-hidden=\\\"true\\\" data-clipboard-action=\\\"copy\\\" data-clipboard-text=\",{\"type\":\"fn\",\"name\":\"Address\",\"data\":[\"#user_id#\"]},\" onClick=\\\"CopyToClipboard('#clipboard')\\\"\"]]}],\"m0\"]},{\"type\":\"fn\",\"name\":\"P\",\"data\":[\"text-muted m0\",\"Citizen ID\"]},{\"type\":\"fn\",\"name\":\"DivsEnd\"}]},{\"type\":\"fn\",\"name\":\"DivsEnd\"}]},{\"type\":\"fn\",\"name\":\"DivsEnd\"}]},{\"type\":\"fn\",\"name\":\"DivsEnd\"}]},{\"type\":\"block\",\"name\":\"Divs\",\"data\":[\"md-6\",\"panel panel-default elastic data-sweet-alert\"],\"children\":[{\"type\":\"fn\",\"name\":\"Div\",\"data\":[\"panel-heading\",[{\"type\":\"fn\",\"name\":\"Div\",\"data\":[\"panel-title\",[{\"type\":\"fn\",\"name\":\"Div\",\"data\":[\"text-bold\",\"Money transfer\"]}]]}]]},{\"type\":\"block\",\"name\":\"Divs\",\"data\":[\"panel-body\"],\"children\":[{\"type\":\"block\",\"name\":\"Form\",\"children\":[{\"type\":\"block\",\"name\":\"Divs\",\"data\":[\"form-group\"],\"children\":[{\"type\":\"fn\",\"name\":\"Label\",\"data\":[\"My tokens\"]},{\"type\":\"fn\",\"name\":\"Input\",\"data\":[\"MyTokens\",\"form-control  m-b disabled=''\",\"text\",\"text\",[{\"type\":\"fn\",\"name\":\"Money\",\"data\":[[{\"type\":\"fn\",\"name\":\"GetOne\",\"data\":[\"amount\",\"#state_id#_accounts#\",\"citizen_id='#citizen#' and onhold=0 and type=3\"]}]]}]]},{\"type\":\"fn\",\"name\":\"DivsEnd\"}]},{\"type\":\"block\",\"name\":\"Divs\",\"data\":[\"form-group\"],\"children\":[{\"type\":\"fn\",\"name\":\"Label\",\"data\":[\"Recipient account ID\"]},{\"type\":\"fn\",\"name\":\"Select\",\"data\":[\"RecipientAccountID\",\"#state_id#_accounts.id\",\"form-control m-b\",\"#vRecipientAccID#\"]},{\"type\":\"fn\",\"name\":\"DivsEnd\"}]},{\"type\":\"block\",\"name\":\"Divs\",\"data\":[\"form-group\"],\"children\":[{\"type\":\"fn\",\"name\":\"Label\",\"data\":[\"Amount\"]},{\"type\":\"fn\",\"name\":\"Input\",\"data\":[\"Amount\",\"form-control  m-b\",\"text\",\"text\",\"12.50\"]},{\"type\":\"fn\",\"name\":\"DivsEnd\"}]},{\"type\":\"fn\",\"name\":\"FormEnd\"}]},{\"type\":\"fn\",\"name\":\"DivsEnd\"}]},{\"type\":\"block\",\"name\":\"Divs\",\"data\":[\"panel-footer\"],\"children\":[{\"type\":\"block\",\"name\":\"Divs\",\"data\":[\"clearfix\"],\"children\":[{\"type\":\"block\",\"name\":\"Divs\",\"data\":[\"pull-left\"],\"children\":[{\"type\":\"fn\",\"name\":\"DivsEnd\"}]},{\"type\":\"block\",\"name\":\"Divs\",\"data\":[\"pull-right\"],\"children\":[{\"type\":\"map\",\"name\":\"TxButton\",\"map\":{\"ClassBtn\":\"btn btn-primary\",\"Contract\":\"tokens_Money_Transfer_extra\",\"Inputs\":\"SenderAccountType#=person_acc,RecipientAccountID=RecipientAccountID,Amount=Amount\",\"Name\":\"Send\",\"OnSuccess\":\"template,tokens_accounts_list\"}},{\"type\":\"fn\",\"name\":\"DivsEnd\"}]},{\"type\":\"fn\",\"name\":\"DivsEnd\"}]},{\"type\":\"fn\",\"name\":\"DivsEnd\"}]},{\"type\":\"fn\",\"name\":\"DivsEnd\"}]},{\"type\":\"block\",\"name\":\"Divs\",\"data\":[\"md-12\",\"panel panel-default elastic data-sweet-alert\"],\"children\":[{\"type\":\"fn\",\"name\":\"Div\",\"data\":[\"panel-heading\",[{\"type\":\"fn\",\"name\":\"Div\",\"data\":[\"panel-title\",[{\"type\":\"fn\",\"name\":\"Div\",\"data\":[\"text-bold\",\"Pending notifications\"]}]]}]]},{\"type\":\"block\",\"name\":\"Divs\",\"data\":[\"panel-body\"],\"children\":[{\"type\":\"block\",\"name\":\"Divs\",\"data\":[\"table-responsive\"],\"children\":[{\"type\":\"map\",\"name\":\"Table\",\"map\":{\"\":\"\",\"Class\":\"table-striped table-bordered table-hover data-role=\\\"table\\\"\",\"Columns\":\"[\\n                [ ID,  SetVar(style=If(#closed#==0,\\\"text-normal\\\",\\\"text-muted\\\")) Div(text-center #style#, #id#), text-center h4 align=\\\"center\\\" width=\\\"50\\\" ],\\n                [ Icon, Div(text-center, Em(fa StateVal(notification_icon,#icon#) fa-1x) ), text-center h4 align=\\\"center\\\" width=\\\"50\\\" ],\\n                [ Header, Div(#style# , #header# ), h4 ],\\n                [ Direction page, LinkPage(#page_name#, View the document, \\\"vHeader:'#header#',vPageValue:#page_value#,vNotificID:#id#,vType:'#type#'\\\", pointer), h4 ]\\n            ]\",\"Order\":\"id DESC\",\"Table\":\"#state_id#_notification\",\"Where\":\"type = 'single' AND recipient_id = #citizenId# AND closed = 0\"}},{\"type\":\"fn\",\"name\":\"DivsEnd\"}]},{\"type\":\"fn\",\"name\":\"DivsEnd\"}]},{\"type\":\"fn\",\"name\":\"DivsEnd\"}]},{\"type\":\"block\",\"name\":\"If\",\"data\":[\"#citizenId#!=#citizen#\"],\"children\":[{\"type\":\"block\",\"name\":\"Divs\",\"data\":[\"md-12\",\"panel panel-primary elastic data-sweet-alert\"],\"children\":[{\"type\":\"block\",\"name\":\"Divs\",\"data\":[\"panel-footer\"],\"children\":[{\"type\":\"block\",\"name\":\"Divs\",\"data\":[\"input-group\"],\"children\":[{\"type\":\"fn\",\"name\":\"Input\",\"data\":[\"chat_message\",\"form-control\",\"Write a message...\",\"text\"]},{\"type\":\"block\",\"name\":\"Divs\",\"data\":[\"input-group-btn\"],\"children\":[{\"type\":\"fn\",\"name\":\"SetVar\",\"data\":[\"as_role=0\"]},{\"type\":\"fn\",\"name\":\"SetVar\",\"data\":[\"to_role=0\"]},{\"type\":\"map\",\"name\":\"TxButton\",\"map\":{\"ClassBtn\":\"fa fa-paper-plane btn btn-default btn-sm bl0 radius-tl-clear radius-bl-clear\",\"Contract\":\"chat_send_private_message\",\"Inputs\":\"to#=citizenId, text=chat_message, as_role#=as_role, to_role#=to_role\",\"Name\":\"Send\",\"OnSuccess\":\"template,Chat_history,vPageValue:-1,citizenId:'#citizenId#',as_role:'#as_role#',to_role:'#to_role#'\"}},{\"type\":\"fn\",\"name\":\"DivsEnd\"}]},{\"type\":\"fn\",\"name\":\"DivsEnd\"}]},{\"type\":\"fn\",\"name\":\"DivsEnd\"}]},{\"type\":\"fn\",\"name\":\"DivsEnd\"}]},{\"type\":\"fn\",\"name\":\"IfEnd\"}]},{\"type\":\"block\",\"name\":\"AutoUpdate\",\"data\":[\"2\"],\"children\":[{\"type\":\"fn\",\"name\":\"Include\",\"data\":[\"notification\"]},{\"type\":\"fn\",\"name\":\"AutoUpdateEnd\"}]},{\"type\":\"fn\",\"name\":\"PageEnd\"},{\"type\":\"fn\",\"name\":\"PageEnd\"}]" };

test('Requested payload deserialization', () => {
    //const value = JSON.parse(_testPayload.tree);
    //expect(value).not.toBeNull();
    // TODO: Test stub
});

test('Protypo renders correctly', () => {
    /*const payload = JSON.parse(_testPayload.tree);
    const component = renderer.create(
        <Protypo payload={payload} />
    );

    const tree = component.toJSON();
    expect(tree).toMatchSnapshot();*/
    // TODO: Test stub
});